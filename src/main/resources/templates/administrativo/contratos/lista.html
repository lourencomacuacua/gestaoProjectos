
<!DOCTYPE html>
<html xmlns:layout="http://www.w3.org/1999/xhtml" layout:decorate="~{administrativo/fragments/layout}"> 
<html lang="pt-br">

  <head>
    <title>Página Cadastro de contratos</title>
  </head>
  <body>			
	    <section class="layout-content" layout:fragment="corpo">
			   <div class="table-responsive">
		    	<table class="table table-striped table-hover table-sm"  id="tabela">
				<thead class="bg-primary" style="color:white">
					<tr>
						<td>ID</td>
						<td>Nome</td>
						<td>Início</td>
						<td>Fim</td>
						<td>Parceiro</td>
						<td>Projecto</td>
						<td>Ação</td>
					</tr>
		
				</thead>
				
				
				<tbody > 
					<tr th:each="contrato: ${listaContratos}"><!--Percorer lista de contratos (as linhas da nossa tabela de contrato) como se fose um for( o contrato vai ser a entidade que esta na lista de contrato sendo que contrato tem os campos nome e sigal-->
						<td th:text="${contrato.id}"></td>
						<td th:text="${contrato.nome}"></td>
						<td th:text="${contrato.dataInicio}"></td>
						<td th:text="${contrato.dataExpiracao}"></td>
						<td th:text="${contrato.parceiro.nome}"></td>
						<td th:text="${contrato.projecto.nome}"></td>
		
						<td colspan="2">
							<a th:href="@{/editarContrato/{id} (id=${contrato.id})}"><i class="fa-solid fa-pen-to-square" style="color: #74C0FC;"></i> </a> <!-- ou seja estamos passando o parámetro id nessa /editarContrato (esta chamando uma função) e esse id vai ser contrato.id-->
							
		
						<!--	<a th:href="@{/removerContrato/{id} (id=${contrato.id})}"><i class="fa-solid fa-trash-can" style="color: #ff0000;"></i></a> -->
		
		
		                                <!-- Modal para confirmação de remoção -->
		                                <button type="button" class="btn btn-danger btn-sm" data-toggle="modal" th:data-target="'#modal-warning-' + ${contrato.id}">
		                                    <i class="fa-solid fa-trash-can" ></i>
		                                </button>
		                                <div class="modal fade" th:id="'modal-warning-' + ${contrato.id}" tabindex="-1" role="dialog" aria-labelledby="modal-warning-title" aria-hidden="true">
		                                    <div class="modal-dialog" role="document">
		                                        <div class="modal-content">
		                                            <div class="modal-header">
		                                                <h5 class="modal-title" id="modal-warning-title">Remover Contrato</h5>
		                                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
		                                                    <span aria-hidden="true">&times;</span>
		                                                </button>
		                                            </div>
		                                            <div class="modal-body">
		                                                <h3>Deseja realmente remover o Contrato?</h3>
		                                            </div>
		                                            <div class="modal-footer">
		                                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
		                                                <a class="btn btn-danger" th:href="@{/removerContrato/{id} (id=${contrato.id})}">Sim</a>
		                                            </div>
		                                        </div>
		                                    </div>
		                                </div>
		
		
		
						</td>
						
					</tr>
				
				</tbody >
				
				
			
			</table>
		
		            <a class="btn btn-primary" href="/cadastroContrato"><i class="fa-solid fa-plus"></i>Cadastrar Contrato</a>
		            
		
		
		    </div>
	    </section>
</body>


